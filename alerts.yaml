garage_door:
  name: "Garage is open alert"
  message: "The garage door has been open for {{ relative_time(states.binary_sensor.garage_door_sensor.last_changed) }}" 
  done_message: "The Garage door was left open for more than 30 mins. But it is now closed."
  entity_id: binary_sensor.garage_door_sensor
  state: "on"   # Optional, 'on' is the default value
  repeat:
    - 30
  can_acknowledge: true  # Optional, default is true
  skip_first: true  # Optional, false is the default
  data:
    tag: garage-door
    notification_id: garage_door
    image: /api/camera_proxy/camera.garage_camera_high
  notifiers:
    - phoneapps
    - ha_persistent
    - sonos_speak


garage_smoke:
  name: "ðŸ”¥ ðŸš¨ Garage Smoke alert"
  message: "Smoke has been detected in the Garage. The smoke density is  {{ sensor.0x00158d00028e48f6_smoke_density.state }}. The time is {{ now().strftime('%Y-%m-%d %H:%M') }} " 
  done_message: "Garage smoke cleared. The time is {{ now().strftime('%Y-%m-%d %H:%M') }} "
  entity_id: binary_sensor.0x00158d00028e48f6_smoke
  state: "on"   # Optional, 'on' is the default value
  repeat:
    - 1  # Every day 
    - 1
    - 1
    - 1
    - 1
    - 1
    - 1
    - 1
    - 1
    - 1
    - 5  # Every 5 minutes for 25 minutes (5 notifications)
    - 5
    - 5
    - 5
    - 5
    - 60  # Every hour for 10 hours
    - 60
    - 60
    - 60
    - 60
    - 60
    - 60
    - 60
    - 60
    - 60
  can_acknowledge: true  # Optional, default is true
  skip_first: false  # Optional, false is the default
  data:
    tag: garage-smoke
    notification_id: garage_smoke
  notifiers:
    - phoneapps
    - ha_persistent
    - sonos_speak

garage_smoke_battery_low:
  name: "Garage Smoke Detector Battery Low"
  message: "Garage Smoke Detector Battery is Low. The smoke alarm battery state is  {{ sensor.0x00158d00028e48f6_battery.state }}. Please change the batteries. }} " 
  done_message: "Garage smoke detector battery state is normal. }} "
  entity_id: binary_sensor.0x00158d00028e48f6_smoke
  state: "on"   # Optional, 'on' is the default value
  repeat:
    - 1440  # Repeat every day
  can_acknowledge: true  # Optional, default is true
  skip_first: false  # Optional, false is the default
  data:
    tag: garage-smoke-battery-low
    notification_id: garage_smoke_battery_low
  notifiers:
    - phoneapps
    - ha_persistent
    - sonos_speak

laundry_door:
  name: "Laundry door is open alert"
  message: "The laundry door has been open for {{ relative_time(states.binary_sensor.laundry_door_zb.last_changed) }}" 
  done_message: "The laundry door was left open for more than 60 mins. But it is now closed."
  entity_id: binary_sensor.laundry_door_zb
  state: "on"   # Optional, 'on' is the default value
  repeat:
    - 60
  can_acknowledge: true  # Optional, default is true
  skip_first: true  # Optional, false is the default
  data:
    tag: laundry-door
    notification_id: laundry_door
  notifiers:
    - phoneapps
    - persistent_notification
    - sonos_speak

living_sliding_door:
  name: "Living Sliding door is open alert"
  message: "The living sliding door has been open for {{ relative_time(states.binary_sensor.living_sliding_door.last_changed) }}" 
  done_message: "The living sliding door was left open for more than 8 hours. But it is now closed."
  entity_id: binary_sensor.living_sliding_door
  state: "on"   # Optional, 'on' is the default value
  repeat:
    - 480
    - 60
  can_acknowledge: true  # Optional, default is true
  skip_first: true  # Optional, false is the default
  data:
    tag: living-sliding-door
    notification_id: living-sliding-door
  notifiers:
    - phoneapps
    - persistent_notification
    - sonos_speak


# laundry_washer_complete_alert:
#   name: "Laundry Washer Complete Alert"
#   message: " \u1F455 The laundry Washer job has been completed" 
#   #done_message: "The laundry Washer job has been completed"
#   entity_id: sensor.fcb97e3fb7af_laundry_machine_state
#   state: "Finished"   # Optional, 'on' is the default value
#   can_acknowledge: true  # Optional, default is true
#   data:
#     tag: laundry-door
#     notification_id: laundry_door
#   notifiers:
#     - phoneapps
#     #- persistent_notification
#     #- sonos_speak
