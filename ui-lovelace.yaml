custom_header:
  compact_mode: true
  voice_hide: true
  header_text: 'SnM Nest'
  background: var(--app-header-background-color)
  elements_color: var(--app-header-text-color)
  active_tab_color: var(--state-icon-active-color)
  tab_indicator_color: var(--state-icon-active-color)
  header_text_css: "font-family: 'Roboto'"
  #button_text:
    # The next example is using templates. See templates page for more info.
  #  options: ' {{ time }} | {{ date }}'

resources:
  - url: /local/community/popup-backdrop-filter/popup-backdrop-filter.js
    type: module
  # # - url: /local/mini-media-player-bundle.js?v=1.9.1
  # #   type: module
  # - url: /local/community/mini-media-playermini-media-player-bundle.js?v=1.9.1
  #   type: module
  # - url: /local/config-template-card.js
  #   type: module
  # - url: /local/mini-graph-card-bundle.js?v=0.9.3
  #   type: module
  # - url: /local/custom-lovelace/weather-card/weather-card.js?v=0.4
  #   type: module
  # - url: /local/custom-lovelace/compact-custom-header/custom-header.js?v=1.6.7
  #   type: module
  # - url: /local/custom-lovelace/button-card/button-card.js?v=3.3.6
  #   type: module
  # - url: /local/custom-lovelace/layout-card/layout-card.js
  #   type: module
  # - url: /local/custom-lovelace/light-popup-card/light-popup-card.js?v=0.4.8.2
  #   type: module

button_card_templates:
  light:
    color_type: card
    entity_picture: '[[[ if (entity.state === "on") return "/local/custom-lovelace/icons/light-on.svg?v=3"; else return "/local/custom-lovelace/icons/light.svg" ]]]'
    show_entity_picture: true
    tap_action:
          action: toggle
          # ui_sound: &ui_sound |
          #         [[[ if (entity.state === 'off') {
          #         hass.callService('media_player', 'play_media', {entity_id: 'media_player.living_tablet', media_content_id: '/local/custom-lovelace/sound/on.m4a', media_content_type: 'music'}); }
          #         else if (entity.state === 'on') {
          #         hass.callService('media_player', 'play_media', {entity_id: 'media_player.living_tablet', media_content_id: '/local/custom-lovelace/sound/off.m4a', media_content_type: 'music'}); } ]]]
    styles:
      name:
        - font-familly: Roboto
        - font-size: 14px
      entity_picture:
        - padding: 7%
    hold_action:
          action: call-service
          service: browser_mod.popup
          service_data:
            title: '[[[ return entity.attributes.friendly_name ]]]'
            deviceID: this
            card:
              type: entities
              entities:
                - type: custom:light-popup-card
                  entity: '[[[ return entity.entity_id ]]]'
                  icon: none
                  fullscreen: false
                  brightnessWidth: 130px
                  brightnessHeight: 360px
                  borderRadius: 1.7em
                  sliderColor: '#c7c7c7'
                  sliderTrackColor: rgba(25, 25, 25, 0.9)
                  actionSize: 4.5em
                  actionsInARow: 2
                  style: |
                    #popup {
                      margin: -2.4em 0 1.4em 0; }
                    #popup > div.range-holder > input[type=range] {
                      cursor: grab; }
                    #brightnessValue {
                      color: rgba(255, 255, 255, 0.8); margin: -1em 0 0 0; font-size: 2em; font-weight: 400; 
                      position: absolute; z-index: 100; font-family: SF Display; letter-spacing: 0.02em; pointer-events: none; 
                      mix-blend-mode: difference; text-align:center; width: 3.4em; height: 3.4em; }
                    #popup > div.range-holder > input[type=range]::-webkit-slider-thumb {
                      border: 0; eight: 0; width: 0; cursor: grabbing; }
                    #popup > div.action-holder > div > div {
                      margin: 0.8em 0.5em -0.8em 0.5em; }
                    #popup > div.action-holder > div:nth-child(2) > div:nth-child(2) > span {
                      background: radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 80%), 
                      conic-gradient(rgb(120,39,230), rgb(230,34,231), rgb(228,5,136), rgb(228,25,25), rgb(229,105,30), rgb(232,226,46), 
                      rgb(125,230,41), rgb(52,232,40), rgb(51,231,92), rgb(52,232,224),rgb(32,125,229), rgb(18,39,229), rgb(120,39,230));
                      border-width: 2px; border-color: #e6e6e6; --size: 4.4em !important; }

views:
  - title: Home
    path: home
    cards:
      - type: weather-forecast  
        entity: weather.dark_sky
      - type: vertical-stack
        cards:
          - type: glance
            title: Master Bedroom
            entities:
              - entity: binary_sensor.master_motion
                icon: 'mdi:run-fast'
                name: Motion
              - entity: binary_sensor.door_window_sensor_158d0003677216
                icon: 'mdi:door-closed'
                name: Door
              - entity: binary_sensor.bed_sensor
                icon: 'mdi:bed'
                name: Bed
              - entity: sensor.master_espmulti_t_2
                icon: 'mdi:coolant-temperature'
                name: Temperature
              - entity: sensor.master_espmulti_h_2
                icon: 'mdi:water-percent'
                name: Humidity
          - type: glance
            entities:
              - entity: light.madhushi_wardrobe_light
                icon: 'mdi:lightbulb-on-outline'
                name: Mad WR
                tap_action:
                  action: toggle
              - entity: light.bath_strip
                icon: 'mdi:led-strip'
                name: Bath Strip
                tap_action:
                  action: toggle
              - entity: light.master_pendant
                icon: 'mdi:ceiling-light'
                name: Pendant
                tap_action:
                  action: toggle
              - entity: switch.bedheater_switch
                icon: 'mdi:radiator'
                name: Bed Heater
                tap_action:
                  action: toggle
              - entity: light.sameera_wardrobe_light
                icon: 'mdi:lightbulb-on-outline'
                name: Sam WR
                tap_action:
                  action: toggle
          - type: horizontal-stack
            cards:
              - entity: light.master_dimmer
                type: light
              - entity: light.master_bath_dimmer
                type: light
      - type: vertical-stack
        cards:
          - type: glance
            title: House Moods
            show_state: false
            entities:
              - entity: switch.housealarm
                icon: 'mdi:shield-home-outline'
                name: Away
                tap_action:
                  action: toggle
              - entity: switch.guest_mood
                icon: 'mdi:account-supervisor'
                name: Guest
                tap_action:
                  action: toggle
              - entity: switch.party_mood
                icon: 'mdi:glass-cocktail'
                name: Party
                tap_action:
                  action: toggle
              - entity: switch.vacation_mood
                icon: 'mdi:airplane'
                name: Vacation
                tap_action:
                  action: toggle
              - entity: switch.nightmood
                icon: 'mdi:weather-night'
                name: Night
                tap_action:
                  action: toggle
          - type: glance
            title: Kitchen
            entities:
              - entity: binary_sensor.kitchen_motion
                icon: 'mdi:run-fast'
                name: Motion
              - entity: sensor.living_espmulti_t
                icon: 'mdi:coolant-temperature'
                name: Temperature
              - entity: sensor.illumination_158d0002c716b6
                icon: 'mdi:theme-light-dark'
                name: Light
              - entity: sensor.living_espmulti_h
                icon: 'mdi:water-percent'
                name: Humidity
          - type: horizontal-stack
            cards:
              - entity: light.kitchen_dimmer
                type: light
              - entity: light.living_dimmer
                type: light
          - type: glance
            show_state: false
            entities:
              - entity: light.living_floor_lamp
                icon: 'mdi:lamp'
                name: Living Floor
                tap_action:
                  action: toggle
              - entity: light.living_hue_strip
                icon: 'mdi:led-strip'
                name: Living
                tap_action:
                  action: toggle
              - entity: light.kitchen_strip
                icon: 'mdi:led-strip'
                name: Kitchen
                tap_action:
                  action: toggle
              - entity: light.dining_table_lamp
                icon: 'mdi:lamp'
                name: Dining Table
                tap_action:
                  action: toggle
          - type: glance
            show_state: false
            entities:
              - entity: light.front_patio_light
                icon: 'mdi:lightbulb-on-outline'
                name: Front Patio
                tap_action:
                  action: toggle
              - entity: light.front_entrance_dimmer
                icon: 'mdi:lightbulb-on-outline'
                name: Front Entrance
                tap_action:
                  action: toggle
              - entity: light.bed_2_dimmer
                icon: 'mdi:lightbulb-on-outline'
                name: Bed 2
                tap_action:
                  action: toggle
              - entity: light.hallway_light
                icon: 'mdi:lightbulb-on-outline'
                name: Hallway
                tap_action:
                  action: toggle

          - type: custom:mini-media-player
            entity: media_player.yamaha_receiver
            icon: 'mdi:speaker-wireless'
            hide:
              power: true
              controls : true
      - type: vertical-stack
        cards:
          - type: glance
            title: Laundry
            entities:
              - entity: binary_sensor.motion_sensor_158d0004507186
                icon: 'mdi:run-fast'
                name: Motion
              - entity: binary_sensor.door_window_sensor_158d0002ca3100
                icon: 'mdi:door-closed'
                name: Door
              - entity: light.laundry_light
                icon: 'mdi:lightbulb-on-outline'
                name: Light
                tap_action:
                  action: toggle
              - entity: light.laundry_light
                icon: 'mdi:track-light'
                name: Outdoor
                tap_action:
                  action: toggle
      - type: vertical-stack
        cards:
          - type: glance
            title: Office Room
            entities:
              - entity: binary_sensor.office_motion
                icon: 'mdi:run-fast'
                name: Motion
              - entity: sensor.office_espmulti_t
                icon: 'mdi:coolant-temperature'
                name: Temperature
              - entity: sensor.illumination_158d0002b7ec00
                icon: 'mdi:theme-light-dark'
                name: Light
              - entity: sensor.office_espmulti_h
                icon: 'mdi:water-percent'
                name: Humidity
          - type: horizontal-stack
            cards:
              - type: light
                entity: light.office_dimmer
              - type: light
                entity: light.alfresco_dimmer
          - type: glance
            title: Garage
            entities:
              - entity: binary_sensor.garage_motion
                icon: 'mdi:run-fast'
                name: Motion
              - entity: binary_sensor.door_window_sensor_158d0002c0e236
                icon: 'mdi:garage-open'
                name: Door
              - entity: sensor.garage_espmulti_t_2
                icon: 'mdi:coolant-temperature'
                name: Temperature
              - entity: sensor.garage_espmulti_lx_2
                icon: 'mdi:theme-light-dark'
                name: Light
              - entity: sensor.garage_espmulti_h_2
                icon: 'mdi:water-percent'
                name: Humidity
          - type: horizontal-stack
            cards:
              - entity: light.garage_dimmer
                icon: 'mdi:lightbulb'
                name: Garage Light
                tap_action:
                  action: toggle
                type: entity-button
              - entity: switch.housealarm
                icon: 'mdi:home-lock'
                name: House Alarm
                tap_action:
                  action: toggle
                type: entity-button
              - entity: light.front_outdoor_light
                icon: 'mdi:lightbulb'
                name: Front Outdoor
                tap_action:
                  action: toggle
                type: entity-button


# Home Tab Navigation Entities
          - type: horizontal-stack
            cards:
              - type: entity-button
                entity: sun.sun
                name: 'Living'
                icon: 'mdi:floor-lamp'
                show_icon: false
                tap_action:
                  action: navigate
                  navigation_path: /lovelace/living
              - type: entity-button
                entity: sun.sun
                name: 'Cameras'
                icon: 'mdi:cctv'
                show_icon: false
                tap_action:
                  action: navigate
                  navigation_path: /lovelace/cameras
              - type: entity-button
                entity: sun.sun
                name: 'Floor Plan'
                icon: 'mdi:floor-plan'
                show_icon: false
                tap_action:
                  action: navigate
                  navigation_path: /lovelace/floorplan


# Living Tab  
  - title: Living
    path: living
    cards:
      - type: vertical-stack
        cards:
          - type: glance
            entities:
              - entity: device_tracker.oneplus7t
                name: Sameera
                image: /local/sameera.jpg
              - entity: device_tracker.madhushi_iphone_xs
                name: Madhushi
                image: /local/madhushi.jpg
          - entities:
              - entity: switch.myair_power
                icon: 'mdi:power-standby'
                name: AC Power
                tap_action:
                  action: toggle
              - entity: sensor.myair_mode
                icon: 'mdi:air-conditioner'
                name: Mode
              - entity: sensor.myair_fanspeed
                icon: 'mdi:speedometer'
                name: Speed
              - entity: sensor.myair_settemp
                icon: 'mdi:thermometer'
                name: Temperature
              - entity: sensor.myair_stop_timer
                icon: 'mdi:clock-end'
                name: Timer
            title: Air Conditioner
            type: glance
          - entities:
              - entity: switch.myair_zone1
                icon: 'mdi:arrow-decision-auto'
                name: Living
                tap_action:
                  action: toggle
              - entity: switch.myair_zone2
                icon: 'mdi:arrow-decision-auto'
                name: Theatre
                tap_action:
                  action: toggle
              - entity: switch.myair_zone3
                icon: 'mdi:arrow-decision-auto'
                name: Master
                tap_action:
                  action: toggle
              - entity: switch.myair_zone4
                icon: 'mdi:arrow-decision-auto'
                name: Bed 2
                tap_action:
                  action: toggle
              - entity: switch.myair_zone5
                icon: 'mdi:arrow-decision-auto'
                name: Bed 3
                tap_action:
                  action: toggle
            type: glance
          - type: custom:mini-media-player
            entity: media_player.living
          - type: custom:mini-media-player
            entity: media_player.alfresco
      - type: vertical-stack
        cards:
          - type: custom:mini-graph-card
            entities:
              - sensor.living_espmulti_t
            name: Living Temperature
            icon: mdi:thermometer
            hours_to_show: 24
            points_per_hour: 1
            line_color: '#5F9AEB'
            show:
              graph: bar
              labels: true
          - type: custom:mini-graph-card
            entities:
              - sensor.efergy_757728
            name: Solar Generation
            icon: mdi:solar-power
            hours_to_show: 24
            points_per_hour: 12
            line_color: '#307DFD'
            line_width: 2
          - type: custom:mini-graph-card
            entities:
              - sensor.efergy_622020
            name: Energy Consumption
            icon: mdi:flash
            hours_to_show: 24
            points_per_hour: 12
            line_width: 2
          - type: custom:mini-graph-card
            entities:
              - entity: sensor.unifi_gateway_www_speed_down
                name: Download
              - entity: sensor.unifi_gateway_www_speed_up
                name: Upload
            name: Internet Usage
            icon: mdi:web
            hours_to_show: 24
            points_per_hour: 12
            line_width: 2
      - type: vertical-stack
        cards:
          - type: glance
            show_state: false
            title: Kitchen & Living Moods
            entities:
              - entity: scene.livingnightmood
                icon: 'mdi:weather-night'
                name: Night Dim
                tap_action:
                  action: call-service
                  service: scene.turn_on
                  service_data:
                    entity_id: scene.livingnightmood
              - entity: scene.cookingmood
                icon: 'mdi:rice'
                name: Cooking
                tap_action:
                  action: call-service
                  service: scene.turn_on
                  service_data:
                    entity_id: scene.cookingmood
              - entity: scene.tvwatchingmode
                icon: 'mdi:television-classic'
                name: TV Watching
                tap_action:
                  action: call-service
                  service: scene.turn_on
                  service_data:
                    entity_id: scene.tvwatchingmode
              - entity: scene.romanticnightmood
                icon: 'mdi:heart-circle-outline'
                name: Romance
                tap_action:
                  action: call-service
                  service: scene.turn_on
                  service_data:
                    entity_id: scene.romanticnightmood
              - entity: scene.livingoff
                icon: 'mdi:power-plug-off'
                name: All Off
                tap_action:
                  action: call-service
                  service: scene.turn_on
                  service_data:
                    entity_id: scene.livingoff
          - type: glance
            show_state: false
            entities:
              - entity: scene.livingred
                icon: 'mdi:palette'
                name: Red
                tap_action:
                  action: call-service
                  service: scene.turn_on
                  service_data:
                    entity_id: scene.livingred
              - entity: scene.livinggreen
                icon: 'mdi:palette'
                name: Green
                tap_action:
                  action: call-service
                  service: scene.turn_on
                  service_data:
                    entity_id: scene.livinggreen
              - entity: scene.livingblue
                icon: 'mdi:palette'
                name: Blue
                tap_action:
                  action: call-service
                  service: scene.turn_on
                  service_data:
                    entity_id: scene.livingblue
              - entity: scene.livingwarm
                icon: 'mdi:palette'
                name: Warm
                tap_action:
                  action: call-service
                  service: scene.turn_on
                  service_data:
                    entity_id: scene.livingwarm
              - entity: scene.livingcoloroff
                icon: 'mdi:close-circle-outline'
                name: Color Off
                tap_action:
                  action: call-service
                  service: scene.turn_on
                  service_data:
                    entity_id: scene.livingcoloroff
          - type: glance
            title: Group Motion
            entities:
              - entity: binary_sensor.kitchen_motion
                icon: 'mdi:silverware-fork-knife'
                name: Kitchen
              - entity: binary_sensor.living_motion
                icon: 'mdi:sofa'
                name: Living
              - entity: binary_sensor.master_motion
                icon: 'mdi:bed'
                name: Master
              - entity: binary_sensor.office_motion
                icon: 'mdi:briefcase-outline'
                name: Office
              - entity: binary_sensor.garage_motion
                icon: 'mdi:garage-open'
                name: Garage
          - type: entities
            title: Blinds
            entities:
              - entity: cover.dining_blind_1
              - entity: cover.dining_blind_2
              - entity: cover.tv_blind_left
              - entity: cover.tv_blind_right
          - type: entity-filter
            entities:
              - entity: light.alfresco_dimmer
                tap_action:
                  action: toggle 
              - entity: light.master_bath_dimmer
                tap_action:
                  action: toggle
              - entity: light.bath_strip
                tap_action:
                  action: toggle
              - entity: light.dining_table_lamp
                tap_action:
                  action: toggle
              - entity: light.front_outdoor_light
                tap_action:
                  action: toggle
              - entity: light.garage_dimmer
                tap_action:
                  action: toggle
              - entity: light.living_hue_strip
                tap_action: 
                  action: toggle
              - entity: light.kitchen_strip
                tap_action: 
                  action: toggle
              - entity: light.kitchen_dimmer
                tap_action:
                  action: toggle
              - entity:  light.living_floor_lamp
                tap_action:
                  action: toggle
              - entity: light.living_dimmer
                tap_action: 
                  action: toggle
              - entity: light.madhushi_wardrobe_light
                tap_action:
                  action: toggle
              - entity: light.master_dimmer
                tap_action: 
                  action: toggle
              - entity: light.office_dimmer
                tap_action:
                  action: toggle
              - entity: light.pantry_light
                tap_action:
                  action: toggle
              - entity: light.sameera_wardrobe_light
                tap_action: 
                  action: toggle
              - entity: light.laundry_outside_light
                tap_action: 
                  action: toggle
              - entity: light.laundry_light
                tap_action: 
                  action: toggle
              - entity: light.dining_dimmer
                tap_action: 
                  action: toggle
              - entity: light.front_entrance_dimmer
                tap_action: 
                  action: toggle
              - entity: light.front_patio_light
                tap_action: 
                  action: toggle
              - entity: light.hallway_light
                tap_action: 
                  action: toggle
              - entity: light.master_pendant
                tap_action: 
                  action: toggle
              - entity: light.back_outdoor_light
                tap_action: 
                  action: toggle
              - entity: light.bed_2_dimmer
                tap_action: 
                  action: toggle
            state_filter:
              - "on"
            card:
              type: glance
              column_width: 20%
              show_state: false
              title: Lights On

# Living Tab Navigation Entities
          - type: horizontal-stack
            cards:
              - type: entity-button
                entity: sun.sun
                name: 'Home'
                icon: 'mdi:tablet-dashboard'
                show_icon: false
                tap_action:
                  action: navigate
                  navigation_path: /lovelace/home
              - type: entity-button
                entity: sun.sun
                name: 'Cameras'
                icon: 'mdi:cctv'
                show_icon: false
                tap_action:
                  action: navigate
                  navigation_path: /lovelace/cameras
              - type: entity-button
                entity: sun.sun
                name: 'Floor Plan'
                icon: 'mdi:floor-plan'
                show_icon: false
                tap_action:
                  action: navigate
                  navigation_path: /lovelace/floorplan




# Cameras Tab
  - title: Cameras
    path: cameras
    cards:
      - type: picture-entity 
        title: Front Entrance 
        entity:  camera.front_entrance_camera
      - type: picture-entity 
        title: Living 
        entity:  camera.living_camera
      - type: picture-entity 
        title: Hallway 
        entity:  camera.hallway_camera
      - type: picture-entity 
        title: Alfresco 
        entity:  camera.alfresco_camera
      - type: picture-entity 
        title: Outside Right 
        entity:  camera.outside_right_camera
      - type: picture-entity 
        title: Outside Back 
        entity:  camera.outside_back_camera
      - type: picture-entity 
        title: Garage Camera 
        entity:  camera.garage_camera
      - type: picture-entity 
        title: Baby Camera 
        entity:  camera.baby_camera


# Camera Tab Navigation Entities
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: entity-button
                entity: sun.sun
                name: 'Home'
                icon: 'mdi:tablet-dashboard'
                show_icon: false
                tap_action:
                  action: navigate
                  navigation_path: /lovelace/home
              - type: entity-button
                entity: sun.sun
                name: 'Living'
                icon: 'mdi:floor-lamp'
                show_icon: false
                tap_action:
                  action: navigate
                  navigation_path: /lovelace/living
              - type: entity-button
                entity: sun.sun
                name: 'Floor Plan'
                icon: 'mdi:floor-plan'
                show_icon: false
                tap_action:
                  action: navigate
                  navigation_path: /lovelace/floorplan

# Battery Tab
  - title: Battery
    path: battery
    cards:
      - type: vertical-stack
        cards:
        - type: entities
          title: Xiaomi Battery Status
          show_header_toggle: false    
          entities:
            - entity: sensor.main_door_battery
            - entity: sensor.garage_door_battery
            - entity: sensor.laundry_door_battery
            - entity: sensor.bath_motion_battery
            - entity: sensor.kitchen_motion_2_battery
            - entity: sensor.alfresco_motion_battery
            - entity: sensor.office_motion_2_battery
            - entity: sensor.master_motion_2_battery
            - entity: sensor.shower_motion_battery
            - entity: sensor.living_motion_battery
            - entity: sensor.garage_motion_2_battery
            - entity: sensor.smoke_sensor_battery
            - entity: sensor.alfresco_button_battery
            - entity: sensor.madhushi_bedside_button_battery
            - entity: sensor.sameera_bedside_button_battery
            - entity: sensor.living_button_battery
            - entity: sensor.temperature_sensor_1_battery

# Floor Plan 
  - title: Floor Plan
    path: floorplan
    panel: true
    cards:
      - type: custom:layout-card
        layout: vertical
        column_width: [500, 500, 250]
        cards:
        - type: picture-elements
          image: /local/floorplan2-dark.svg?v=2
          elements:

# Office Room
          - type: state-icon
            entity: sensor.office_espmulti_t
            icon: 'mdi:thermometer'
            style: 
                top: 6%
                left: 67%
                "--paper-item-icon-color": '#D8D6D9'
          - type: state-label
            entity: sensor.office_espmulti_t
            icon: 'mdi:thermometer'
            style: 
                top: 6%
                left: 74%
          - type: state-icon
            icon: 'mdi:lightbulb-outline'
            tap_action:
              action: toggle
            entity: light.office_dimmer
            style:
              top: 13%
              left: 63.5%
              "--paper-item-icon-color": '#D8D6D9'
          
          # Office Motion
          - type: state-icon
            icon: 'mdi:run-fast'
            entity: binary_sensor.office_motion
            style:
              top: 13%
              left: 70.5%
              "--paper-item-icon-color": '#D8D6D9'
 
          # Office Air Con Vent  
          - type: state-icon
            icon: 'mdi:air-filter'
            entity: binary_sensor.office_vent
            tap_action:
              action: call-service
              service: switch.toggle
              service_data: 
                entity_id: switch.myair_zone2
            style:
              top: 13%
              left: 78%
              "--paper-item-icon-color": '#D8D6D9'

          # Office Image Processing
          - type: state-icon
            icon: 'mdi:eye-outline'
            entity: binary_sensor.office_person_sensor
            hold_action:
              action: url
              url_path: !secret officeimgprcurl
            style:
              top: 20%
              left: 84%
              "--paper-item-icon-color": '#D8D6D9'

# Alfresco
          # Alfresco Light
          - type: state-icon
            icon: 'mdi:lightbulb-outline'
            tap_action:
              action: toggle
            entity: light.alfresco_dimmer
            style:
              top: 11%
              left: 16%
              "--paper-item-icon-color": '#D8D6D9'
          # Alfresco Motion
          - type: state-icon
            icon: 'mdi:run-fast'
            entity: binary_sensor.motion_sensor_158d0002b5eecd
            style:
              top: 5%
              left: 15.5%
              "--paper-item-icon-color": '#D8D6D9'

         # Alfresco Image Processing
          - type: state-icon
            icon: 'mdi:eye-outline'
            entity: binary_sensor.alfresco_person_sensor
            hold_action:
              action: url
              url_path: !secret alfrescoimgprcurl
            style:
              top: 20%
              left: 26%
              "--paper-item-icon-color": '#D8D6D9'

        #  # Alfresco Image Processing IoT Edge
        #   - type: state-icon
        #     icon: 'mdi:eye-circle'
        #     entity: binary_sensor.alfresco_iotedge_vision
        #     style:
        #       top: 20%
        #       left: 21%
        #       "--paper-item-icon-color": '#D8D6D9'

          # Alfresco Music
          - type: state-icon
            icon: 'mdi:volume-high'
            tap_action:
              action: call-service
              service: media_player.media_play_pause
              service_data: 
                entity_id: media_player.alfresco
            entity: binary_sensor.alfresco_music_sensor
            style:
              top: 11%
              left: 10%
              "--paper-item-icon-color": '#D8D6D9'

          # Alfresco Temperature
          - type: state-icon
            entity: sensor.alfresco_espmulti_t
            icon: 'mdi:thermometer'
            style: 
                top: 18%
                left: 10%
                "--paper-item-icon-color": '#D8D6D9'
          - type: state-label
            entity: sensor.alfresco_espmulti_t
            icon: 'mdi:thermometer'
            style: 
                top: 18%
                left: 16%

# Kitchen
          # Kitchen Light
          - type: state-icon
            icon: 'mdi:lightbulb-outline'
            tap_action:
              action: toggle
            entity: light.kitchen_dimmer
            style:
              top: 34%
              left: 50.5%
              "--paper-item-icon-color": '#D8D6D9'
          # Pantry Light
          - type: state-icon
            icon: 'mdi:lightbulb-outline'
            tap_action:
              action: toggle
            entity: light.pantry_light
            style:
              top: 46%
              left: 55%
              "--paper-item-icon-color": '#D8D6D9'
          # Kithcen Strip
          - type: state-icon
            icon: 'mdi:led-strip'
            tap_action:
              action: toggle
            entity: light.kitchen_strip
            style:
              top: 25%
              left: 56%
              "--paper-item-icon-color": '#D8D6D9'
              "--paper-item-icon-active-color": '#FCD546'
          # Kitchen Motion
          - type: state-icon
            icon: 'mdi:run-fast'
            entity: binary_sensor.kitchen_motion
            style:
              top: 28%
              left: 50.5%
              "--paper-item-icon-color": '#D8D6D9'

          # Pantry Door
          - type: image
            image: /local/line6vr.svg
            entity: binary_sensor.door_window_sensor_158d00033acf0f
            state_filter:
              "off": 'opacity(0)'
            style:
              top: 42%
              left: 45%
              transform: 'scale(1,1)'

# Living
          # Living Light
          - type: state-icon
            icon: 'mdi:lightbulb-outline'
            tap_action:
              action: toggle
            entity: light.living_dimmer
            style:
              top: 35%
              left: 19%
              "--paper-item-icon-color": '#D8D6D9'

          # Living Temperature
          - type: state-icon
            entity: sensor.living_espmulti_t
            icon: 'mdi:thermometer'
            style: 
                top: 26%
                left: 28%
                "--paper-item-icon-color": '#D8D6D9'
          - type: state-label
            entity: sensor.living_espmulti_t
            icon: 'mdi:thermometer'
            style: 
                top: 26.2%
                left: 34.5%

          # Living Humidity
          - type: state-icon
            entity: sensor.living_espmulti_h
            icon: 'mdi:water-percent'
            style: 
                top: 26%
                left: 12%
                "--paper-item-icon-color": '#D8D6D9'
          - type: state-label
            entity: sensor.living_espmulti_h
            icon: 'mdi:water-percent'
            style: 
                top: 26.2%
                left: 17.5%

          # Living Air Con Vent
          - type: state-icon
            icon: 'mdi:air-filter'
            entity: binary_sensor.living_vent
            tap_action:
              action: call-service
              service: switch.toggle
              service_data: 
                entity_id: switch.myair_zone1
            style:
              top: 35%
              left: 35%
              "--paper-item-icon-color": '#D8D6D9'
          
          # Living Image Processing
          - type: state-icon
            icon: 'mdi:eye-outline'
            entity: binary_sensor.living_person_sensor
            hold_action:
              action: url
              url_path: !secret livingimgprcurl
            style:
              top: 42%
              left: 3.3%
              "--paper-item-icon-color": '#D8D6D9'


          # Living Floor Lamp
          - type: state-icon
            icon: 'mdi:lamp'
            tap_action:
              action: toggle
            entity: light.living_floor_lamp
            style:
              top: 46%
              left: 3%
              "--paper-item-icon-color": '#D8D6D9'
          # Dining Table Lamp
          - type: state-icon
            icon: 'mdi:lamp'
            tap_action:
              action: toggle
            entity: light.dining_table_lamp
            style:
              top: 4%
              left: 53%
              "--paper-item-icon-color": '#D8D6D9'
              "--paper-item-icon-active-color": '#FCD546'

          # Living Strip
          - type: state-icon
            icon: 'mdi:led-strip'
            tap_action:
              action: toggle
            entity: light.living_hue_strip
            style:
              top: 27%
              left: 3%
              "--paper-item-icon-color": '#D8D6D9'
              "--paper-item-icon-active-color": '#FCD546'

          # Living Motion
          - type: state-icon
            icon: 'mdi:run-fast'
            entity: binary_sensor.living_motion
            style:
              top: 35%
              left: 13%
              "--paper-item-icon-color": '#D8D6D9'

          # Living Music
          - type: state-icon
            icon: 'mdi:volume-high'
            tap_action:
              action: call-service
              service: media_player.media_play_pause
              service_data: 
                entity_id: media_player.living
            entity: binary_sensor.living_music_sensor
            style:
              top: 38%
              left: 5%
              "--paper-item-icon-color": '#D8D6D9'

          # Living TV
          - type: state-icon
            icon: 'mdi:television-classic'
            tap_action:
              action: call-service
              service: script.toggle_tv
            entity: binary_sensor.living_tv
            style:
              top: 33%
              left: 5%
              "--paper-item-icon-color": '#D8D6D9'

          # Dining Music
          - type: state-icon
            icon: 'mdi:volume-high'
            tap_action:
              action: call-service
              service: media_player.media_play_pause
              service_data: 
                entity_id: media_player.living
            entity: binary_sensor.living_music_sensor
            style:
              top: 6%
              left: 49%
              "--paper-item-icon-color": '#D8D6D9'
              transform: rotate(135deg)

          # Dining Light
          - type: state-icon
            icon: 'mdi:lightbulb-outline'
            tap_action:
              action: toggle
            entity: light.dining_dimmer
            style:
              top: 11%
              left: 40.5%
              "--paper-item-icon-color": '#D8D6D9'


          # Main Entrance Door
          - type: image
            image: /local/line6v.svg
            entity: binary_sensor.door_window_sensor_158d0002739295
            state_filter:
              "off": 'opacity(0)'
            style:
              top: 68%
              left: 56.3%
              transform: 'rotate(0deg) scale(1,1.2)'


# Laundry
          # Laundry Motion
          - type: state-icon
            icon: 'mdi:run-fast'
            entity: binary_sensor.motion_sensor_158d0004507186
            style:
              top: 69.5%
              left: 8.5%
              "--paper-item-icon-color": '#D8D6D9'


          # Laundry Light
          - type: state-icon
            icon: 'mdi:lightbulb-outline'
            tap_action:
              action: toggle
            entity: light.laundry_light
            style:
              top: 69.5%
              left: 15%
              "--paper-item-icon-color": '#D8D6D9'

          # Laundry Outside Light
          - type: state-icon
            icon: 'mdi:track-light'
            tap_action:
              action: toggle
            entity: light.laundry_outside_light
            style:
              top: 64%
              left: -1.5%
              "--paper-item-icon-color": '#D8D6D9'
              transform: scaleX(-1)


          # Laundry Door
#          - type: state-icon
#            icon: 'mdi:minus'
#            entity: binary_sensor.door_window_sensor_158d0002ca3100
#            style:
##              top: 65.5%
#             left: -3%
#              "--paper-item-icon-color": '#DBDBDB'
#              transform: 'scale(2,2.5) rotate(90deg)'

          # Laundry Door
          - type: image
            image: /local/line6v.svg
            entity: binary_sensor.door_window_sensor_158d0002ca3100
            state_filter:
              "off": 'opacity(0)'
            style:
              top: 65%
              left: 0%
              transform: rotate(0deg)


# Garage
          # Garage Motion
          - type: state-icon
            icon: 'mdi:run-fast'
            entity: binary_sensor.garage_motion
            style:
              top: 68%
              left: 73%
              "--paper-item-icon-color": '#D8D6D9'

          # Switch Box Temperature
          - type: state-icon
            entity: sensor.temperature_158d0002731398
            icon: 'mdi:server-network'
            style: 
                top: 62%
                left: 80%
                "--paper-item-icon-color": '#D8D6D9'
          - type: state-label
            entity: sensor.temperature_158d0002731398
            icon: 'mdi:thermometer'
            style: 
                top: 62%
                left: 87.5%

          # Garage Light
          - type: state-icon
            icon: 'mdi:lightbulb-outline'
            tap_action:
              action: toggle
            entity: light.garage_dimmer
            style:
              top: 68%
              left: 82%
              "--paper-item-icon-color": '#D8D6D9'

          # Garage Door
          - type: state-icon
            icon: 'mdi:minus'
            entity: binary_sensor.door_window_sensor_158d0002c0e236
            style:
              top: 86%
              left: 75.5%
              "--paper-item-icon-color": '#D8D6D9'
              transform: scale(13,2)

          # Garage Entry Door
          - type: image
            image: /local/line6.svg
            entity: binary_sensor.door_window_sensor_158d00033a7262
            state_filter:
              "off": 'opacity(0)'
            style:
              top: 64.2%
              left: 58.5%
              transform: rotate(0deg)

          # Garage Humidity  - ESPHome 
          - type: state-icon
            entity: sensor.garage_espmulti_h_2
            icon: 'mdi:water-percent'
            style: 
                top: 78%
                left: 75.5%
                "--paper-item-icon-color": '#D8D6D9'
          - type: state-label
            entity: sensor.garage_espmulti_h_2
            icon: 'mdi:water-percent'
            style: 
                top: 78%
                left: 81.5%

          # Garage Temperature - ESPHome
          - type: state-icon
            entity: sensor.garage_espmulti_t_2
            icon: 'mdi:thermometer'
            style: 
                top: 74%
                left: 74.5%
                "--paper-item-icon-color": '#D8D6D9'
          - type: state-label
            entity: sensor.garage_espmulti_t_2
            icon: 'mdi:thermometer'
            style: 
                top: 74%
                left: 81.5%

# Front Outdoor
          # Front Ourdoor Light 1
          - type: state-icon
            icon: 'mdi:wall-sconce-flat'
            tap_action:
              action: toggle
            entity: light.front_outdoor_light
            style:
              top: 91%
              left: 60%
              "--paper-item-icon-color": '#D8D6D9'
          # Front Ourdoor Light 2
          - type: state-icon
            icon: 'mdi:wall-sconce-flat'
            tap_action:
              action: toggle
            entity: light.front_outdoor_light
            style:
              top: 91%
              left: 98.3%
              "--paper-item-icon-color": '#D8D6D9'
          # Front Ourdoor Light 3
          - type: state-icon
            icon: 'mdi:wall-sconce-flat'
            tap_action:
              action: toggle
            entity: light.front_outdoor_light
            style:
              top: 97%
              left: 1.7%
              "--paper-item-icon-color": '#D8D6D9'
          # Front Ourdoor Light 4
          - type: state-icon
            icon: 'mdi:wall-sconce-flat'
            tap_action:
              action: toggle
            entity: light.front_outdoor_light
            style:
              top: 98.6%
              left: 21.5%
              "--paper-item-icon-color": '#D8D6D9'
          # Front Ourdoor Light 5
          - type: state-icon
            icon: 'mdi:wall-sconce-flat'
            tap_action:
              action: toggle
            entity: light.front_outdoor_light
            style:
              top: 98.6%
              left: 40%
              "--paper-item-icon-color": '#D8D6D9'

# House Alarm
          # House Alarm
          - type: image
            image: /local/shield-home-outline.svg?2
            entity: switch.housealarm
            state_filter:
              "off": 'opacity(0)'
            tap_action:
              action: toggle
            style:
              top: 87%
              left: 46%
              transform: 'scale(1.5,1.5)'
              "--paper-item-icon-color": '#D8D6D9'


# Front Outdoor Patio 
          # Patio Light
          - type: state-icon
            icon: 'mdi:lightbulb-outline'
            tap_action:
              action: toggle
            entity: light.front_patio_light
            style:
              top: 76%
              left: 53.4%
              "--paper-item-icon-color": '#D8D6D9'

          # Patio Motion
          - type: state-icon
            icon: 'mdi:run-fast'
            entity: binary_sensor.motion_sensor_158d00033df5c5
            style:
              top: 81%
              left: 53.4%
              "--paper-item-icon-color": '#D8D6D9'

# Front Entrance Light
          # Front Entrance Light 1
          - type: state-icon
            icon: 'mdi:lightbulb-outline'
            tap_action:
              action: toggle
            entity: light.front_entrance_dimmer
            style:
              top: 61%
              left: 53.4%
              "--paper-item-icon-color": '#D8D6D9'
          # Front Entrance Light 2
          - type: state-icon
            icon: 'mdi:lightbulb-outline'
            tap_action:
              action: toggle
            entity: light.front_entrance_dimmer
            style:
              top: 53%
              left: 39%
              "--paper-item-icon-color": '#D8D6D9'


# Back Outdoor 
          # Back Outdoor Light 1
          - type: state-icon
            icon: 'mdi:wall-sconce-flat'
            tap_action:
              action: toggle
            entity: light.back_outdoor_light
            style:
              top: -1.5%
              left: 27%
              "--paper-item-icon-color": '#D8D6D9'
              transform: rotate(180deg)
          # Back Outdoor Light 2
          - type: state-icon
            icon: 'mdi:wall-sconce-flat'
            tap_action:
              action: toggle
            entity: light.back_outdoor_light
            style:
              top: -1.5%
              left: 75%
              "--paper-item-icon-color": '#D8D6D9'
              transform: rotate(180deg)

# Master Bedroom
          # Master Light
          - type: state-icon
            icon: 'mdi:lightbulb-outline'
            tap_action:
              action: toggle
            entity: light.master_dimmer
            style:
              top: 53%
              left: 71%
              "--paper-item-icon-color": '#D8D6D9'
          # Bath Light
          - type: state-icon
            icon: 'mdi:lightbulb-outline'
            tap_action:
              action: toggle
            entity: light.master_bath_dimmer
            style:
              top: 28%
              left: 70%
              "--paper-item-icon-color": '#D8D6D9'
          # Bath Motion
          - type: state-icon
            icon: 'mdi:run-fast'
            entity: binary_sensor.m_bath_motion
            style:
              top: 28%
              left: 76%
              "--paper-item-icon-color": '#D8D6D9'
          # Master WC Light
          - type: state-icon
            icon: 'mdi:lightbulb-outline'
            tap_action:
              action: toggle
            entity: light.master_wc_dimmer
            style:
              top: 29%
              left: 62.5%
              "--paper-item-icon-color": '#D8D6D9'
          # Master Motion
          - type: state-icon
            icon: 'mdi:run-fast'
            entity: binary_sensor.master_motion
            style:
              top: 47%
              left: 65%
              "--paper-item-icon-color": '#D8D6D9'

          # Master Temperature
          - type: state-icon
            entity: sensor.master_espmulti_t_2
            icon: 'mdi:thermometer'
            style: 
                top: 43%
                left: 71%
                "--paper-item-icon-color": '#D8D6D9'
          - type: state-label
            entity: sensor.master_espmulti_t_2
            icon: 'mdi:thermometer'
            style: 
                top: 43%
                left: 78%

          # Master Bed Sensor
          - type: state-icon
            icon: 'mdi:bed'
            entity: binary_sensor.bed_sensor
            style:
              top: 48%
              left: 75%
              "--paper-item-icon-color": '#D8D6D9'

          # SAM WR Light
          - type: state-icon
            icon: 'mdi:lightbulb-outline'
            tap_action:
              action: toggle
            entity: light.sameera_wardrobe_light
            style:
              top: 35%
              left: 81.5%
              "--paper-item-icon-color": '#D8D6D9'
          # MAD WR Light
          - type: state-icon
            icon: 'mdi:lightbulb-outline'
            tap_action:
              action: toggle
            entity: light.madhushi_wardrobe_light
            style:
              top: 35%
              left: 64.5%
              "--paper-item-icon-color": '#D8D6D9'

          # Living Air Con Vent
          - type: state-icon
            icon: 'mdi:air-filter'
            entity: binary_sensor.master_vent
            tap_action:
              action: call-service
              service: switch.toggle
              service_data: 
                entity_id: switch.myair_zone3
            style:
              top: 53%
              left: 77%
              "--paper-item-icon-color": '#D8D6D9'

          # Master Bedroom Door
          - type: image
            image: /local/line6.svg
            entity: binary_sensor.door_window_sensor_158d0003677216
            state_filter:
              "off": 'opacity(0)'
            style:
              top: 58%
              left: 58.8%
              transform: rotate(0deg)

# Bedroom 4

          # Bed 4 Motion
          - type: state-icon
            icon: 'mdi:run-fast'
            entity: binary_sensor.bed4_esp_motion
            style:
              top: 83%
              left: 7%
              "--paper-item-icon-color": '#D8D6D9'

          # Bed 4 Light
          - type: state-icon
            icon: 'mdi:lightbulb-outline'
            tap_action:
              action: toggle
            entity: light.bed_4_dimmer
            style:
              top: 88%
              left: 12%
              "--paper-item-icon-color": '#D8D6D9'

          # Bed 4 Temperature
          - type: state-icon
            entity: sensor.bed4_espmulti_t
            icon: 'mdi:thermometer'
            style: 
                top: 93%
                left: 7.5%
                "--paper-item-icon-color": '#D8D6D9'
          - type: state-label
            entity: sensor.bed4_espmulti_t
            icon: 'mdi:thermometer'
            style: 
                top: 93%
                left: 14%

          # Bed 4 Air Con Vent
          - type: state-icon
            icon: 'mdi:air-filter'
            entity: binary_sensor.bed4_vent
            tap_action:
              action: call-service
              service: switch.toggle
              service_data: 
                entity_id: switch.myair_zone6
            style:
              top: 83%
              left: 14%
              "--paper-item-icon-color": '#D8D6D9'

# Bedroom 3

          # Bed 3 Light
          - type: state-icon
            icon: 'mdi:lightbulb-outline'
            tap_action:
              action: toggle
            entity: light.bed_3_dimmer
            style:
              top: 90%
              left: 27%
              "--paper-item-icon-color": '#D8D6D9'

          # Bed 3 Air Con Vent
          - type: state-icon
            icon: 'mdi:air-filter'
            entity: binary_sensor.bed3_vent
            tap_action:
              action: call-service
              service: switch.toggle
              service_data: 
                entity_id: switch.myair_zone5
            style:
              top: 90%
              left: 34%
              "--paper-item-icon-color": '#D8D6D9'


# Bedroom 2

          # Bed 2 Air Con Vent
          - type: state-icon
            icon: 'mdi:air-filter'
            entity: binary_sensor.bed2_vent
            tap_action:
              action: call-service
              service: switch.toggle
              service_data: 
                entity_id: switch.myair_zone4
            style:
              top: 72%
              left: 38%
              "--paper-item-icon-color": '#D8D6D9'

          # Bed2 Light
          - type: state-icon
            icon: 'mdi:lightbulb-outline'
            tap_action:
              action: toggle
            entity: light.bed_2_dimmer
            style:
              top: 67%
              left: 38%
              "--paper-item-icon-color": '#D8D6D9'

# Hallway

          # Hallway Light
          - type: state-icon
            icon: 'mdi:lightbulb-outline'
            tap_action:
              action: toggle
            entity: light.hallway_light
            style:
              top: 65%
              left: 24%
              "--paper-item-icon-color": '#D8D6D9'

# # TV Volume
        - type: custom:mini-media-player
          entity: media_player.yamaha_receiver
          icon: 'mdi:speaker-wireless'
          name: TV Volume
          hide:
            power: true
            controls : true
            source: true

# # Floorplan Tab Navigation Entities
#       - type: vertical-stack
#         cards:
#           - type: horizontal-stack
#             cards:
#               - type: entity-button
#                 entity: sun.sun
#                 name: 'Home'
#                 icon: 'mdi:tablet-dashboard'
#                 show_icon: false
#                 tap_action:
#                   action: navigate
#                   navigation_path: /lovelace/home
#               - type: entity-button
#                 entity: sun.sun
#                 name: 'Living'
#                 icon: 'mdi:floor-lamp'
#                 show_icon: false
#                 tap_action:
#                   action: navigate
#                   navigation_path: /lovelace/living
#               - type: entity-button
#                 entity: sun.sun
#                 name: 'Cameras'
#                 icon: 'mdi:cctv'
#                 show_icon: false
#                 tap_action:
#                   action: navigate
#                   navigation_path: /lovelace/cameras


# Floorplan tab Weather card    
        - break
        - type: custom:layout-card
          layout: vertical
          cards:
            - type: custom:weather-card
              entity: weather.dark_sky
              details: false
              current: true
              forecast: true
              hide_precipitation: true
            - type: horizontal-stack
              cards: 
              - type: "custom:button-card"
                name: MOOD LIGHTS
                color_type: card
                entity_picture: '[[[ if (entity.state === "on") return "/local/custom-lovelace/icons/lamp-on1.svg?v=4"; else return "/local/custom-lovelace/icons/lamp.svg?v=3" ]]]'
                entity: light.living_mood_lights
                show_entity_picture: true
                tap_action:
                      action: toggle
                styles:
                  name:
                    - font-familly: Roboto
                    - font-size: 14px
                  entity_picture:
                    - padding: 7%

              - type: "custom:button-card"
                name: OPEN BLINDS
                color_type: card
                entity_picture: /local/custom-lovelace/icons/blinds-open.svg
                entity: script.open_all_blinds
                show_entity_picture: true
                tap_action:
                  action: call-service
                  service: script.turn_on
                  service_data:
                    entity_id: script.open_all_blinds
                styles:
                  name:
                    - font-familly: Roboto
                    - font-size: 14px
                  entity_picture:
                    - padding: 7%
              - type: "custom:button-card"
                color_type: card
                name: CLOSE BLINDS
                entity_picture: /local/custom-lovelace/icons/blinds-close.svg
                entity: script.close_all_blinds
                show_entity_picture: true
                tap_action:
                  action: call-service
                  service: script.turn_on
                  service_data:
                    entity_id: script.close_all_blinds
                styles:
                  name:
                    - font-familly: Roboto
                    - font-size: 14px
                  entity_picture:
                    - padding: 7%

              - type: "custom:button-card"
                name: A/C
                color_type: card
                entity_picture: '[[[ if (entity.state === "on") return "/local/custom-lovelace/icons/ac-on.svg?v=3"; else return "/local/custom-lovelace/icons/ac-on.svg?v=3" ]]]'
                entity: switch.air_conditioner
                show_entity_picture: true
                tap_action:
                      action: toggle
                styles:
                  name:
                    - font-familly: Roboto
                    - font-size: 14px
                  entity_picture:
                    - padding: 7%

  # Lights horizontal stack

            - type: horizontal-stack
              cards: 
              - type: "custom:button-card"
                name: KITCHEN
                entity: light.kitchen_dimmer
                template: light
              - type: "custom:button-card"
                name: LIVING
                entity: light.living_dimmer
                template: light
              - type: "custom:button-card"
                name: ENT HALLWAY
                entity: light.front_entrance_dimmer
                template: light
              - type: "custom:button-card"
                name: DINING
                entity: light.dining_dimmer
                template: light

  # Third Horizontal Stack

            - type: horizontal-stack
              cards: 
              - type: "custom:button-card"
                name: TV
                color_type: card
                entity_picture: /local/custom-lovelace/icons/tv.svg?v=3
                entity: binary_sensor.living_tv
                show_entity_picture: true
                tap_action:
                  action: call-service
                  service: script.toggle_tv
                styles:
                  name:
                    - font-familly: Roboto
                    - font-size: 14px
                  entity_picture:
                    - padding: 7%

              - type: "custom:button-card"
                name: MUSIC
                color_type: card
                entity_picture: '[[[ if (entity.state === "on") return "/local/custom-lovelace/icons/music-on.svg?v=3"; else return "/local/custom-lovelace/icons/music.svg?v=4" ]]]'
                entity: binary_sensor.living_music_sensor
                show_entity_picture: true
                tap_action:
                  action: call-service
                  service: media_player.media_play_pause
                  service_data: 
                    entity_id: media_player.living
                hold_action:
                  action: call-service
                  service: browser_mod.popup
                  service_data:
                    title: 'Living Music'
                    deviceID: this
                    card:
                      type: custom:stack-in-card
                      cards:
                        - type: glance
                          show_state: false
                          entities:
                            - entity: script.sonos_living_play_lullabies
                              name: Lullabies 
                              icon: mdi:baby-face-outline
                              tap_action:
                                action: call-service
                                service: script.sonos_living_play_lullabies
                            - entity: script.sonos_living_play_jazz
                              name: Jazz
                              icon: mdi:saxophone
                              tap_action:
                                action: call-service
                                service: script.sonos_living_play_jazz
                            - entity: script.sonos_living_play_playlist
                              name: Romance
                              icon: mdi:heart-circle-outline
                              tap_action:
                                action: call-service
                                service: script.sonos_living_play_playlist
                                service_data:
                                  playlist: 'Romantic'
                        - type: glance
                          show_state: false
                          entities:
                            - entity: script.sonos_living_play_playlist
                              name: Instrumental
                              icon: mdi:music-clef-treble
                              tap_action:
                                action: call-service
                                service: script.sonos_living_play_playlist
                                service_data:
                                  playlist: 'Instrumental'
                            - entity: script.sonos_living_play_playlist
                              name: Sinhala 
                              icon: mdi:account-music-outline
                              tap_action:
                                action: call-service
                                service: script.sonos_living_play_playlist
                                service_data:
                                  playlist: 'Sinhala'
                            - entity: script.sonos_living_play_jazz
                              name: Bob Marley
                              icon: mdi:beach
                              tap_action:
                                action: call-service
                                service: script.sonos_living_play_playlist
                                service_data:
                                  playlist: 'Bob Marley'
                        - type: entities
                          state_color: true
                          show_header_toggle: false
                          entities:
                          - entity: media_player.living
                            type: custom:mini-media-player
                            info: short
                            artwork: none
                            hide:
                              mute: true
                              icon: true
                              power_state: false


                styles:
                  name:
                    - font-familly: Roboto
                    - font-size: 14px
                  entity_picture:
                    - padding: 7%

              - type: "custom:button-card"
                name: HALLWAY
                entity: light.hallway_light
                template: light

              - type: "custom:button-card"
                name: OFFICE
                entity: light.office_dimmer
                template: light


  # Temperature and humidity graphs
            - type: horizontal-stack
              cards: 
              - type: custom:mini-graph-card
                entities:
                  - entity: sensor.living_espmulti_t
                    name: LIVING TEMP
                icon: mdi:thermometer
                line_color: var(--accent-color)
                line_width: 8
                font_size: 75
              - type: custom:mini-graph-card
                entities:
                  - entity: sensor.living_espmulti_h
                    name: LIVING HUMIDITY
                icon: mdi:water-percent
                line_color: '#307DFD'
                line_width: 8
                font_size: 75


# Third Column
        - break
        - type: custom:layout-card
          layout: vertical
          #column_width: 20%
          cards:
            - type: horizontal-stack
              cards: 
              - type: "custom:button-card"
                name: MASTER
                entity: light.master_dimmer
                template: light
              - type: "custom:button-card"
                name: MASTER BATH
                entity: light.master_bath_dimmer
                template: light
            - type: horizontal-stack
              cards: 
              - type: "custom:button-card"
                name: MASTER WC
                entity: light.master_wc_dimmer
                template: light
              - type: "custom:button-card"
                name: GARAGE
                entity:  light.garage_dimmer
                template: light

            - type: horizontal-stack
              cards: 
              - type: "custom:button-card"
                name: PATIO
                entity: light.front_patio_light
                template: light
              - type: "custom:button-card"
                name: BED 2
                entity: light.bed_2_dimmer
                template: light
            - type: horizontal-stack
              cards: 
              - type: "custom:button-card"
                name: BED 3
                entity: light.bed_3_dimmer
                template: light
              - type: "custom:button-card"
                name: BED 4
                entity: light.bed_4_dimmer
                template: light

            - type: horizontal-stack
              cards: 
              - type: "custom:button-card"
                name: LAUNDRY
                entity: light.laundry_light
                template: light
              - type: "custom:button-card"
                name: LAUNDRY OUT
                entity: light.laundry_outside_light
                template: light

            - type: horizontal-stack
              cards: 
              - type: "custom:button-card"
                name: FRONT OUT
                entity: light.front_outdoor_light
                template: light
              - type: "custom:button-card"
                name: BACK OUT
                entity: light.back_outdoor_light
                template: light

            - type: horizontal-stack
              cards: 
              - type: "custom:button-card"
                name: ALFRESCO
                entity: light.alfresco_dimmer
                template: light
              - type: "custom:button-card"
                name: LULLABIES
                color_type: card
                entity_picture: '[[[ if (entity.state === "on") return "/local/custom-lovelace/icons/lullabies-on.svg?v=3"; else return "/local/custom-lovelace/icons/lullabies.svg?v=4" ]]]'
                entity: binary_sensor.lullabies_music_sensor
                show_entity_picture: true
                tap_action:
                  action: call-service
                  service: script.play_pause_sonos_living_play_lullabies
                styles:
                  name:
                    - font-familly: Roboto
                    - font-size: 14px
                  entity_picture:
                    - padding: 7%


# Garden
  - title: Garden
    path: garden
    cards:
      - type: vertical-stack
        cards:
          - entities:
              - entity: switch.front_lawn
                icon: 'mdi:sprinkler'
                name: Front Lawn
                tap_action:
                  action: call-service
                  service: script.rainmachine_zoneon
                  service_data:
                    id: 2
              - entity: switch.front_side_lawn
                icon: 'mdi:sprinkler'
                name: Side Lawn
                tap_action:
                  action: call-service
                  service: script.rainmachine_zoneon
                  service_data:
                    id: 3
              - entity: switch.front_plants
                icon: 'mdi:sprinkler'
                name: Front Plants
                tap_action:
                  action: call-service
                  service: script.rainmachine_zoneon
                  service_data:
                    id: 4
#              - entity: switch.side_trees
#                icon: 'mdi:sprinkler'
#                name: Side Trees
              - entity: switch.back_planter_boxes
                icon: 'mdi:sprinkler'
                name: Back Plants
                tap_action:
                  action: call-service
                  service: script.rainmachine_zoneon
                  service_data:
                    id: 6
              - entity: switch.back_lawn
                icon: 'mdi:sprinkler'
                name: Back Lawn
                tap_action:
                  action: call-service
                  service: script.rainmachine_zoneon
                  service_data:
                    id: 7
            title: Sprinklers
            type: glance

          - type: horizontal-stack
            cards:    
            - type: entities
              show_header_toggle: false
              entities:
                - entity: input_select.sprinkler_runtime
            - type: glance
              show_state: false              
              entities:
                - entity: switch.front_lawn
                  icon: 'mdi:cancel'
                  name: Cancel
                  show_state: false
                  tap_action:
                    action: call-service
                    service: rainmachine.stop_all

          - type: custom:mini-graph-card
            entities:
              - sensor.front_lawn_daily_stats_mins
            name: Front Lawn Week History
            icon: mdi:sprinkler
            aggregate_func: max
            hours_to_show: 168
            group_by: date
            points_per_hour: 0.0416
            line_color: '#46749C'
            show:
              graph: bar
              labels: true
            unit: minutes

      - type: vertical-stack
        cards:
          - type: custom:mini-graph-card
            entities:
              - sensor.front_side_lawn_daily_stats_mins
            name: Front Side Lawn Week History
            icon: mdi:sprinkler
            aggregate_func: max
            hours_to_show: 168
            group_by: date
            points_per_hour: 0.0416
            line_color: '#46749C'
            show:
              graph: bar
              labels: true
            unit: minutes

          - type: custom:mini-graph-card
            entities:
              - sensor.front_plants_daily_stats_mins
            name: Front Plants Week History
            icon: mdi:sprinkler
            aggregate_func: max
            hours_to_show: 168
            group_by: date
            points_per_hour: 0.0416
            line_color: '#46749C'
            show:
              graph: bar
              labels: true
            unit: minutes

          - type: custom:mini-graph-card
            entities:
              - sensor.side_trees_daily_stats_mins
            name: Side Trees Week History
            icon: mdi:sprinkler
            aggregate_func: max
            hours_to_show: 168
            group_by: date
            points_per_hour: 0.0416
            line_color: '#46749C'
            show:
              graph: bar
              labels: true
            unit: minutes                  


      - type: vertical-stack
        cards:
          - type: custom:mini-graph-card
            entities:
              - sensor.back_planter_boxes_daily_stats_mins
            name: Back Plants Week History
            icon: mdi:sprinkler
            aggregate_func: max
            hours_to_show: 168
            group_by: date
            points_per_hour: 0.0416
            line_color: '#46749C'
            show:
              graph: bar
              labels: true
            unit: minutes   
          - type: custom:mini-graph-card
            entities:
              - sensor.back_lawn_daily_stats_mins
            name: Back Lawn Week History
            icon: mdi:sprinkler
            aggregate_func: max
            hours_to_show: 168
            group_by: date
            points_per_hour: 0.0416
            line_color: '#46749C'
            show:
              graph: bar
              labels: true
            unit: minutes 

# Google Home Casting
#type: entities
#entities:
#  - type: cast
#    name: Home
#    view: 'https://sphassio.duckdns.org:8123/lovelace/floorplan'
#    hide_if_unavailable: false



# Battery Tab
  - title: Automations
    path: automations
    cards:
      - type: vertical-stack
        cards:
        - type: entities
          title: Global
          entities:
            - entity: input_boolean.housealarm_auto
              icon: 'mdi:shield-home-outline'
              name: House Alarm Auto Arm/Unarm
              tap_action:
                action: toggle
            - entity: input_boolean.light_on_off_auto
              icon: 'mdi:lightbulb-outline'
              name: Lights Auto On/Off based on Motion
              tap_action:
                action: toggle
            - entity: input_boolean.zone_off_auto
              icon: 'mdi:air-filter'
              name: AC Zones Auto On/Off based on Motion
              tap_action:
                action: toggle
            - entity: input_boolean.aircon_on_auto
              icon: 'mdi:air-conditioner'
              name: Auto AC Power On based on Temperature
              tap_action:
                action: toggle
            - entity: input_boolean.aircon_off_timer_auto
              tap_action:
                action: toggle
            - entity: input_boolean.nightmood_auto
              icon: 'mdi:weather-night'
              name: Night Mood Auto
              tap_action:
                action: toggle
            - entity: input_boolean.greetings_on
              icon: 'mdi:voice'
              name: Sonos Voice Greetings
              tap_action:
                action: toggle
            - entity: input_boolean.imageprocessing_sensor
              icon: 'mdi:flash-red-eye'
              name: Image Processing
              tap_action:
                action: toggle
            - entity: input_boolean.blinds_auto
              icon: 'mdi:window-shutter-alert'
              name: Blinds Automation
              tap_action:
                action: toggle
        - type: entities
          title: Master Bedroom
          entities:
            - entity: input_boolean.bedheater_auto
              tap_action:
                action: toggle
            - entity: input_boolean.master_light_off_auto
              tap_action:
                action: toggle
            - entity: input_boolean.master_pendant_on_off_auto
              tap_action:
                action: toggle
            - entity: input_boolean.master_wardrobe_on_off_auto
              tap_action:
                action: toggle
            - entity: input_boolean.master_bath_on_off_auto
              tap_action:
                action: toggle
            - entity: input_boolean.master_wc_on_off_auto
              tap_action:
                action: toggle
            - entity: input_boolean.master_aircon_vent_on_off_auto
              tap_action:
                action: toggle
            - entity: input_boolean.master_light_brightness_auto
              tap_action:
                action: toggle
      - type: vertical-stack
        cards:
        - type: entities
          title: Garage
          entities:
            - entity: input_boolean.garage_light_on_off_auto
              name: Garage Light Auto On/Off based on Garage Motion
              tap_action:
                action: toggle
            - entity: input_boolean.garage_light_on_off_door_auto
              tap_action:
                action: toggle
            - entity: input_boolean.frontoutdoor_light_on_off_auto
              tap_action:
                action: toggle
        - type: entities
          title: Alfresco
          entities:
            - entity: input_boolean.alfresco_button
              icon: 'mdi:music-circle-outline'
              name: Alfresco Button Music
              tap_action:
                action: toggle
            - entity: input_boolean.alfresco_motion_music
              icon: 'mdi:music-circle-outline'
              name: Alfresco Music based on Motion
              tap_action:
                action: toggle
            - entity: input_boolean.alfresco_motion_light
              icon: 'mdi:lightbulb-on-outline'
              name: Alfresco Light On/Off based on Motion
              tap_action:
                action: toggle
        - type: entities
          title: Laundry & Hallway
          entities:
            - entity: input_boolean.laundry_light_on_off_auto
              tap_action:
                action: toggle
            - entity: input_boolean.laundry_outside_light_on_off_auto
              tap_action:
                action: toggle
            - entity: input_boolean.hallway_light_on_off_auto
              tap_action:
                action: toggle
        - type: entities
          title: Office Room
          entities:
            - entity: input_boolean.office_light_on_off_auto
              tap_action:
                action: toggle
            - entity: input_boolean.office_aircon_vent_on_off_auto
              tap_action:
                action: toggle

# Baby
  - title: Baby
    path: baby
    cards:
      - type: picture-entity 
        entity: camera.baby_camera
        title: Baby Monitor


